*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     1
PROGRAM NAME =

    1                               1               .FILE       "P:\PRESTO2\shlib_v7\WCU\BIOS\t0029\m66230io.c"
    2                               2               .IMPORT     _rsstr
    3                               3               .EXPORT     _m66230_io
    4                               4               .EXPORT     _m66230_io_err
    5                               5               .EXPORT     _m66230_io_init
    6                               6               .EXPORT     _m66230_io_gst
    7                               7               .EXPORT     _m66230_io_sst
    8                               8               .EXPORT     _m66230_io_putc
    9                               9               .EXPORT     _m66230_io_getc
   10 00000000                     10               .SECTION    P,CODE,ALIGN=4
   11 00000000                     11     _m66230_io:                      ; function: m66230_io
   12                              12                                      ; frame size=0
   13 00000000 4F22                13               STS.L       PR,@-R15
   14                              14     ;         MOV.L       #H'000000F0,R1
   15                              15     ;         LDC         R1,SR
   16 00000002 C90F                16               AND         #H'0000000F,R0
   17 00000004 4008                17               SHLL2       R0
   18 00000006 D205                18               MOV.L       #jt_m66230,R2  ;arrangement Top Address
   19 00000008 302C                19               ADD         R2,R0       ;Add offset_Value
   20 0000000A 6302                20               MOV.L       @R0,R3
   21 0000000C 6033                21               MOV.L       R3,R0
   22 0000000E 8800                22               CMP/EQ      #0,R0
   23 00000010 8906                23               BT          m66230_exit
   24 00000012 400B                24               JSR         @R0
   25 00000014 0009                25               NOP
   26 00000016 4F26                26               LDS.L       @R15+,PR
   27 00000018 000B                27               RTS
   28 0000001A 0009                28               NOP
   29                                     ***** BEGIN-POOL *****
   30 0000001C 00000000                   DATA FOR SOURCE-LINE 18
   31                                     ***** END-POOL *****
   32 00000020                     29     m66230_exit:
   33 00000020 D004                30               MOV.L       Lrsxxx,R0   ;m66230_io_err
   34 00000022 400B                31               JSR         @R0
   35 00000024 0009                32               NOP
   36 00000026 D002                33               MOV.L       #-1,R0      ;システムコールの返り値は -1
   37 00000028 4F26                34               LDS.L       @R15+,PR
   38 0000002A 000B                35               RTS                     ;異常終了
   39 0000002C 0009                36               NOP
   40                                     ***** BEGIN-POOL *****
   41 0000002E 0000                       ALIGNMENT CODE
   42 00000030 FFFFFFFF                   DATA FOR SOURCE-LINE 33
   43                                     ***** END-POOL *****
   44 00000034                     37     Lrsxxx:
   45 00000034 00000000            38               .DATA.L     _m66230_io_err
   46                              39     
   47 00000038                     40               .ALIGN 4
   48 00000038                     41     jt_m66230:
   49 00000038 00000000            42               .DATA.L     _m66230_io_init  ; r0 = 0
   50 0000003C 00000000            43               .DATA.L     _m66230_io_gst   ;    = 1
   51 00000040 00000000            44               .DATA.L     _m66230_io_sst   ;    = 2
   52 00000044 00000000            45               .DATA.L     _m66230_io_putc  ;    = 3
   53 00000048 00000000            46               .DATA.L     _m66230_io_getc  ;    = 4
   54 0000004C 00000000            47               .DATA.L     0                ; none
   55 00000050 00000000            48               .DATA.L     0                ; none
   56 00000054 00000000            49               .DATA.L     0                ; none
   57 00000058 00000000            50               .DATA.L     0                ; none
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     2
PROGRAM NAME =

   58 0000005C 00000000            51               .DATA.L     0                ; none
   59 00000060 00000000            52               .DATA.L     0                ; none
   60 00000064 00000000            53               .DATA.L     0                ; none
   61 00000068 00000000            54               .DATA.L     0                ; none
   62 0000006C 00000000            55               .DATA.L     0                ; none
   63 00000070 00000000            56               .DATA.L     0                ; none
   64 00000074 00000000            57               .DATA.L     0                ; none
   65 00000078                     58               .ALIGN      4
   66 00000078 000B                59               RTS
   67 0000007A 0009                60               NOP
   68 0000007C                     61     _m66230_io_err:                  ; function: m66230_io_err
   69                              62                                      ; frame size=0
   70 0000007C E200                63               MOV         #0,R2      ; H'00000000
   71 0000007E 6023                64               MOV         R2,R0
   72 00000080 000B                65               RTS
   73 00000082 0009                66               NOP
   74 00000084                     67     _m66230_io_init:                 ; function: m66230_io_init
   75                              68                                      ; frame size=24
   76 00000084 2FC6                69               MOV.L       R12,@-R15
   77 00000086 2FD6                70               MOV.L       R13,@-R15
   78 00000088 2FE6                71               MOV.L       R14,@-R15
   79 0000008A 7FF4                72               ADD         #-12,R15
   80 0000008C 6D63                73               MOV         R6,R13
   81 0000008E 6E53                74               MOV         R5,R14
   82 00000090 E601                75               MOV         #1,R6      ; H'00000001
   83 00000092 E3B0                76               MOV         #-80,R3    ; H'FFFFFFB0
   84 00000094 4318                77               SHLL8       R3
   85 00000096 7301                78               ADD         #1,R3
   86 00000098 4328                79               SHLL16      R3
   87 0000009A 363C                80               ADD         R3,R6
   88 0000009C E202                81               MOV         #2,R2      ; H'00000002
   89 0000009E E3B0                82               MOV         #-80,R3    ; H'FFFFFFB0
   90 000000A0 4318                83               SHLL8       R3
   91 000000A2 7301                84               ADD         #1,R3
   92 000000A4 4328                85               SHLL16      R3
   93 000000A6 6C33                86               MOV         R3,R12
   94 000000A8 0502                87               STC         SR,R5
   95 000000AA E3FF                88               MOV         #-1,R3     ; H'FFFFFFFF
   96 000000AC 4318                89               SHLL8       R3
   97 000000AE 730F                90               ADD         #15,R3
   98 000000B0 2539                91               AND         R3,R5
   99 000000B2 E3F0                92               MOV         #-16,R3    ; H'FFFFFFF0
  100 000000B4 633C                93               EXTU.B      R3,R3
  101 000000B6 253B                94               OR          R3,R5
  102 000000B8 450E                95               LDC         R5,SR
  103 000000BA E3A0                96               MOV         #-96,R3    ; H'FFFFFFA0
  104 000000BC 633C                97               EXTU.B      R3,R3
  105 000000BE 2630                98               MOV.B       R3,@R6
  106 000000C0 2EE8                99               TST         R14,R14
  107 000000C2 8B03               100               BF          L29
  108 000000C4 E300               101               MOV         #0,R3      ; H'00000000
  109 000000C6 223B               102               OR          R3,R2
  110 000000C8 A002               103               BRA         L30
  111 000000CA 0009               104               NOP
  112 000000CC                    105     L29:
  113 000000CC E320               106               MOV         #32,R3     ; H'00000020
  114 000000CE 223B               107               OR          R3,R2
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     3
PROGRAM NAME =

  115 000000D0                    108     L30:
  116 000000D0 65D3               109               MOV         R13,R5
  117 000000D2 2558               110               TST         R5,R5
  118 000000D4 8907               111               BT          L32
  119 000000D6 6053               112               MOV         R5,R0
  120 000000D8 8801               113               CMP/EQ      #1,R0
  121 000000DA 8908               114               BT          L34
  122 000000DC 6053               115               MOV         R5,R0
  123 000000DE 8802               116               CMP/EQ      #2,R0
  124 000000E0 8909               117               BT          L35
  125 000000E2 A00C               118               BRA         L36
  126 000000E4 0009               119               NOP
  127 000000E6                    120     L32:
  128 000000E6 E300               121               MOV         #0,R3      ; H'00000000
  129 000000E8 223B               122               OR          R3,R2
  130 000000EA A00A               123               BRA         L37
  131 000000EC 0009               124               NOP
  132 000000EE                    125     L34:
  133 000000EE E308               126               MOV         #8,R3      ; H'00000008
  134 000000F0 223B               127               OR          R3,R2
  135 000000F2 A006               128               BRA         L37
  136 000000F4 0009               129               NOP
  137 000000F6                    130     L35:
  138 000000F6 E318               131               MOV         #24,R3     ; H'00000018
  139 000000F8 223B               132               OR          R3,R2
  140 000000FA A002               133               BRA         L37
  141 000000FC 0009               134               NOP
  142 000000FE                    135     L36:
  143 000000FE E300               136               MOV         #0,R3      ; H'00000000
  144 00000100 223B               137               OR          R3,R2
  145 00000102                    138     L37:
  146 00000102 2620               139               MOV.B       R2,@R6
  147 00000104 6273               140               MOV         R7,R2
  148 00000106 2228               141               TST         R2,R2
  149 00000108 8913               142               BT          L39
  150 0000010A 6023               143               MOV         R2,R0
  151 0000010C 8801               144               CMP/EQ      #1,R0
  152 0000010E 8915               145               BT          L41
  153 00000110 6023               146               MOV         R2,R0
  154 00000112 8802               147               CMP/EQ      #2,R0
  155 00000114 8915               148               BT          L43
  156 00000116 6023               149               MOV         R2,R0
  157 00000118 8803               150               CMP/EQ      #3,R0
  158 0000011A 8915               151               BT          L45
  159 0000011C 6023               152               MOV         R2,R0
  160 0000011E 8804               153               CMP/EQ      #4,R0
  161 00000120 8915               154               BT          L47
  162 00000122 6023               155               MOV         R2,R0
  163 00000124 8805               156               CMP/EQ      #5,R0
  164 00000126 8915               157               BT          L49
  165 00000128 6023               158               MOV         R2,R0
  166 0000012A 8806               159               CMP/EQ      #6,R0
  167 0000012C 8915               160               BT          L50
  168 0000012E A017               161               BRA         L51
  169 00000130 0009               162               NOP
  170 00000132                    163     L39:
  171 00000132 E3FF               164               MOV         #-1,R3     ; H'FFFFFFFF
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     4
PROGRAM NAME =

  172 00000134 633C               165               EXTU.B      R3,R3
  173 00000136 6233               166               MOV         R3,R2
  174 00000138 A013               167               BRA         L52
  175 0000013A 0009               168               NOP
  176 0000013C                    169     L41:
  177 0000013C E27F               170               MOV         #127,R2    ; H'0000007F
  178 0000013E A010               171               BRA         L52
  179 00000140 0009               172               NOP
  180 00000142                    173     L43:
  181 00000142 E23F               174               MOV         #63,R2     ; H'0000003F
  182 00000144 A00D               175               BRA         L52
  183 00000146 0009               176               NOP
  184 00000148                    177     L45:
  185 00000148 E21F               178               MOV         #31,R2     ; H'0000001F
  186 0000014A A00A               179               BRA         L52
  187 0000014C 0009               180               NOP
  188 0000014E                    181     L47:
  189 0000014E E20F               182               MOV         #15,R2     ; H'0000000F
  190 00000150 A007               183               BRA         L52
  191 00000152 0009               184               NOP
  192 00000154                    185     L49:
  193 00000154 E207               186               MOV         #7,R2      ; H'00000007
  194 00000156 A004               187               BRA         L52
  195 00000158 0009               188               NOP
  196 0000015A                    189     L50:
  197 0000015A E203               190               MOV         #3,R2      ; H'00000003
  198 0000015C A001               191               BRA         L52
  199 0000015E 0009               192               NOP
  200 00000160                    193     L51:
  201 00000160 E20F               194               MOV         #15,R2     ; H'0000000F
  202 00000162                    195     L52:
  203 00000162 2620               196               MOV.B       R2,@R6
  204 00000164 E240               197               MOV         #64,R2     ; H'00000040
  205 00000166 2620               198               MOV.B       R2,@R6
  206 00000168 E28A               199               MOV         #-118,R2   ; H'FFFFFF8A
  207 0000016A 622C               200               EXTU.B      R2,R2
  208 0000016C 2620               201               MOV.B       R2,@R6
  209 0000016E 0202               202               STC         SR,R2
  210 00000170 E3FF               203               MOV         #-1,R3     ; H'FFFFFFFF
  211 00000172 4318               204               SHLL8       R3
  212 00000174 730F               205               ADD         #15,R3
  213 00000176 2239               206               AND         R3,R2
  214 00000178 420E               207               LDC         R2,SR
  215 0000017A 62C3               208               MOV         R12,R2
  216 0000017C 6023               209               MOV         R2,R0
  217 0000017E 7F0C               210               ADD         #12,R15
  218 00000180 6EF6               211               MOV.L       @R15+,R14
  219 00000182 6DF6               212               MOV.L       @R15+,R13
  220 00000184 6CF6               213               MOV.L       @R15+,R12
  221 00000186 000B               214               RTS
  222 00000188 0009               215               NOP
  223 0000018A                    216     _m66230_io_gst:                  ; function: m66230_io_gst
  224                             217                                      ; frame size=16
  225 0000018A 4F22               218               STS.L       PR,@-R15
  226 0000018C 7FF4               219               ADD         #-12,R15
  227 0000018E D439               220               MOV.L       L77,R4     ; L78
  228 00000190 D339               221               MOV.L       L77+4,R3   ; _rsstr
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     5
PROGRAM NAME =

  229 00000192 430B               222               JSR         @R3
  230 00000194 0009               223               NOP
  231 00000196 E601               224               MOV         #1,R6      ; H'00000001
  232 00000198 6263               225               MOV         R6,R2
  233 0000019A E4B0               226               MOV         #-80,R4    ; H'FFFFFFB0
  234 0000019C 4418               227               SHLL8       R4
  235 0000019E 7401               228               ADD         #1,R4
  236 000001A0 4428               229               SHLL16      R4
  237 000001A2 324C               230               ADD         R4,R2
  238 000001A4 6620               231               MOV.B       @R2,R6
  239 000001A6 656C               232               EXTU.B      R6,R5
  240 000001A8 655C               233               EXTU.B      R5,R5
  241 000001AA E601               234               MOV         #1,R6      ; H'00000001
  242 000001AC 6263               235               MOV         R6,R2
  243 000001AE 324C               236               ADD         R4,R2
  244 000001B0 6620               237               MOV.B       @R2,R6
  245 000001B2 646C               238               EXTU.B      R6,R4
  246 000001B4 644C               239               EXTU.B      R4,R4
  247 000001B6 6253               240               MOV         R5,R2
  248 000001B8 6023               241               MOV         R2,R0
  249 000001BA C880               242               TST         #128,R0
  250 000001BC 8907               243               BT          L56
  251 000001BE 6253               244               MOV         R5,R2
  252 000001C0 6623               245               MOV         R2,R6
  253 000001C2 4618               246               SHLL8       R6
  254 000001C4 6543               247               MOV         R4,R5
  255 000001C6 6263               248               MOV         R6,R2
  256 000001C8 225B               249               OR          R5,R2
  257 000001CA A005               250               BRA         L57
  258 000001CC 0009               251               NOP
  259 000001CE                    252     L56:
  260 000001CE 6243               253               MOV         R4,R2
  261 000001D0 4218               254               SHLL8       R2
  262 000001D2 6623               255               MOV         R2,R6
  263 000001D4 6263               256               MOV         R6,R2
  264 000001D6 225B               257               OR          R5,R2
  265 000001D8                    258     L57:
  266 000001D8 6023               259               MOV         R2,R0
  267 000001DA 7F0C               260               ADD         #12,R15
  268 000001DC 4F26               261               LDS.L       @R15+,PR
  269 000001DE 000B               262               RTS
  270 000001E0 0009               263               NOP
  271 000001E2                    264     _m66230_io_sst:                  ; function: m66230_io_sst
  272                             265                                      ; frame size=8
  273 000001E2 7FF8               266               ADD         #-8,R15
  274 000001E4 E201               267               MOV         #1,R2      ; H'00000001
  275 000001E6 E3B0               268               MOV         #-80,R3    ; H'FFFFFFB0
  276 000001E8 4318               269               SHLL8       R3
  277 000001EA 7301               270               ADD         #1,R3
  278 000001EC 4328               271               SHLL16      R3
  279 000001EE 323C               272               ADD         R3,R2
  280 000001F0 6053               273               MOV         R5,R0
  281 000001F2 8810               274               CMP/EQ      #16,R0
  282 000001F4 8906               275               BT          L66
  283 000001F6 6053               276               MOV         R5,R0
  284 000001F8 8801               277               CMP/EQ      #1,R0
  285 000001FA 8908               278               BT          L68
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     6
PROGRAM NAME =

  286 000001FC 2558               279               TST         R5,R5
  287 000001FE 890B               280               BT          L69
  288 00000200 A00F               281               BRA         L70
  289 00000202 0009               282               NOP
  290 00000204                    283     L66:
  291 00000204 E390               284               MOV         #-112,R3   ; H'FFFFFF90
  292 00000206 633C               285               EXTU.B      R3,R3
  293 00000208 6633               286               MOV         R3,R6
  294 0000020A A011               287               BRA         L71
  295 0000020C 0009               288               NOP
  296 0000020E                    289     L68:
  297 0000020E E38B               290               MOV         #-117,R3   ; H'FFFFFF8B
  298 00000210 633C               291               EXTU.B      R3,R3
  299 00000212 6633               292               MOV         R3,R6
  300 00000214 A00C               293               BRA         L71
  301 00000216 0009               294               NOP
  302 00000218                    295     L69:
  303 00000218 E38A               296               MOV         #-118,R3   ; H'FFFFFF8A
  304 0000021A 633C               297               EXTU.B      R3,R3
  305 0000021C 6633               298               MOV         R3,R6
  306 0000021E A007               299               BRA         L71
  307 00000220 0009               300               NOP
  308 00000222                    301     L70:
  309 00000222 E38B               302               MOV         #-117,R3   ; H'FFFFFF8B
  310 00000224 633C               303               EXTU.B      R3,R3
  311 00000226 2230               304               MOV.B       R3,@R2
  312 00000228 E28B               305               MOV         #-117,R2   ; H'FFFFFF8B
  313 0000022A 622C               306               EXTU.B      R2,R2
  314 0000022C A003               307               BRA         L72
  315 0000022E 0009               308               NOP
  316 00000230                    309     L71:
  317 00000230 2260               310               MOV.B       R6,@R2
  318 00000232 666C               311               EXTU.B      R6,R6
  319 00000234 6263               312               MOV         R6,R2
  320 00000236                    313     L72:
  321 00000236 6023               314               MOV         R2,R0
  322 00000238 7F08               315               ADD         #8,R15
  323 0000023A 000B               316               RTS
  324 0000023C 0009               317               NOP
  325 0000023E                    318     _m66230_io_putc:                 ; function: m66230_io_putc
  326                             319                                      ; frame size=4
  327 0000023E 7FFC               320               ADD         #-4,R15
  328 00000240 E200               321               MOV         #0,R2      ; H'00000000
  329 00000242 E3B0               322               MOV         #-80,R3    ; H'FFFFFFB0
  330 00000244 4318               323               SHLL8       R3
  331 00000246 7301               324               ADD         #1,R3
  332 00000248 4328               325               SHLL16      R3
  333 0000024A 323C               326               ADD         R3,R2
  334 0000024C 2250               327               MOV.B       R5,@R2
  335 0000024E E200               328               MOV         #0,R2      ; H'00000000
  336 00000250 6023               329               MOV         R2,R0
  337 00000252 7F04               330               ADD         #4,R15
  338 00000254 000B               331               RTS
  339 00000256 0009               332               NOP
  340 00000258                    333     _m66230_io_getc:                 ; function: m66230_io_getc
  341                             334                                      ; frame size=8
  342 00000258 7FF8               335               ADD         #-8,R15
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     7
PROGRAM NAME =

  343 0000025A E200               336               MOV         #0,R2      ; H'00000000
  344 0000025C E3B0               337               MOV         #-80,R3    ; H'FFFFFFB0
  345 0000025E 4318               338               SHLL8       R3
  346 00000260 7301               339               ADD         #1,R3
  347 00000262 4328               340               SHLL16      R3
  348 00000264 323C               341               ADD         R3,R2
  349 00000266 6620               342               MOV.B       @R2,R6
  350 00000268 626C               343               EXTU.B      R6,R2
  351 0000026A 622C               344               EXTU.B      R2,R2
  352 0000026C 6023               345               MOV         R2,R0
  353 0000026E 7F08               346               ADD         #8,R15
  354 00000270 000B               347               RTS
  355 00000272 0009               348               NOP
  356 00000274                    349     L77:
  357 00000274 00000000           350               .DATA.L     L78
  358 00000278 00000000           351               .DATA.L     _rsstr
  359 00000000                    352               .SECTION    C,DATA,ALIGN=4
  360 00000000                    353     L78:
  361 00000000 6D36363233302069   354               .SDATA      "m66230 io gst"
      00000008 6F20677374      
  362 0000000D 0A0D00             355               .DATA.B     H'0A,H'0D,H'00
  363                             356               .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     8

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

C                                C        SCT  00000000    359*
L29                              P             000000CC    107   112*
L30                              P             000000D0    110   115*
L32                              P             000000E6    118   127*
L34                              P             000000EE    121   132*
L35                              P             000000F6    124   137*
L36                              P             000000FE    125   142*
L37                              P             00000102    130   135   140   145*
L39                              P             00000132    149   170*
L41                              P             0000013C    152   176*
L43                              P             00000142    155   180*
L45                              P             00000148    158   184*
L47                              P             0000014E    161   188*
L49                              P             00000154    164   192*
L50                              P             0000015A    167   196*
L51                              P             00000160    168   200*
L52                              P             00000162    174   178   182   186   190   194   198   202*
L56                              P             000001CE    250   259*
L57                              P             000001D8    257   265*
L66                              P             00000204    282   290*
L68                              P             0000020E    285   296*
L69                              P             00000218    287   302*
L70                              P             00000222    288   308*
L71                              P             00000230    294   300   306   316*
L72                              P             00000236    314   320*
L77                              P             00000274    227   228   356*
L78                              C             00000000    357   360*
Lrsxxx                           P             00000034     33    44*
P                                P        SCT  00000000     10*
_m66230_io                       P        EXPT 00000000      3    11*
_m66230_io_err                   P        EXPT 0000007C      4    45    68*
_m66230_io_getc                  P        EXPT 00000258      9    53   340*
_m66230_io_gst                   P        EXPT 0000018A      6    50   223*
_m66230_io_init                  P        EXPT 00000084      5    49    74*
_m66230_io_putc                  P        EXPT 0000023E      8    52   325*
_m66230_io_sst                   P        EXPT 000001E2      7    51   271*
_rsstr                                    IMPT 00000000      2   358 
jt_m66230                        P             00000038     18    48*
m66230_exit                      P             00000020     23    32*
*** SuperH RISC engine ASSEMBLER Ver. 5.1 ***    01/07/08 14:45:06                                                       PAGE     9

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    00000027C        
C                                REL-DATA    000000010        
