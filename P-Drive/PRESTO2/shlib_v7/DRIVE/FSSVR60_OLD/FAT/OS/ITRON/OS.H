/*======================================================================
 * File name    : os.h
 * Original     :
 *----------------------------------------------------------------------
 *$Header: p:/presto2/shlib_v7/drive/fssvr60/fat/os/itron/RCS/os.h 1.1 1970/01/01 00:00:00 kagatume Exp $
 *$Log: os.h $
 * リビジョン 1.1  1970/01/01  00:00:00  kagatume
 * 初期リビジョン
 * 
 *----------------------------------------------------------------------
 *			(c) Copyright 2002, ISHIDA CO., LTD.
 *			959-1 SHIMOMAGARI RITTO-CITY
 *			SHIGA JAPAN
 *			(077) 553-4141
 *======================================================================
 */
/******************************************************************************/
/* 関 数 名：FMR_OS.h                                                         */
/*         ：                                                                 */
/* パラメタ：--                                                               */
/*         ：                                                                 */
/* 戻 り 値：--                                                               */
/*         ：                                                                 */
/* 概    要：OS層用インクルードファイル(μITRON4.0準拠RTOS用)                 */
/* 前提条件：カウンタ幅 = 1msec                                               */
/*         ：カウンタ0 = 1985年01月01日00時00分00秒000                        */
/*         ：                                                                 */
/* 作 成 日：2004.05.26                                                       */
/* 作 成 者：Tsune                                                            */
/*                                                                            */
/******************************************************************************/
/*** 変更履歴 *****************************************************************/
/******************************************************************************/
#ifndef __FMR_OS_H__
#define __FMR_OS_H__
/*************************************/
/* OS依存Include                     */
/*************************************/
#include <kernel.h>

/*************************************/
/* 定数定義                          */
/*************************************/

/* カウンタ値 */
#define DFMR_OS_CNTYRHI 0x00000007      /* 年上位カウンタ                     */
#define DFMR_OS_CNTYRLO 0x57B12C00      /* 年下位カウンタ                     */
#define DFMR_OS_CNTYRLOL 0x5CD78800     /* 年下位カウンタ(閏年)               */
#define DFMR_OS_CNTDAY 0x05265C00       /* 日カウンタ(下位のみ)               */
#define DFMR_OS_CNTHR 0x0036EE80        /* 時カウンタ(下位のみ)               */
#define DFMR_OS_CNTMIN 0x0000EA60       /* 分カウンタ(下位のみ)               */
#define DFMR_OS_CNTSEC 0x000003E8       /* 秒カウンタ(下位のみ)               */

/* 許容年数 */
#define DFMR_OS_YRLIMIT 108

/* 許容範囲カウンタ値 */
#define DFMR_OS_CNTBTMHI 0x0000006E     /* 許容範囲最小値上位                 */
#define DFMR_OS_CNTBTMLO 0x32D4A800     /* 許容範囲最小値下位                 */
#define DFMR_OS_CNTTOPHI 0x00000387     /* 許容範囲最大値上位                 */
#define DFMR_OS_CNTTOPLO 0xb7789000     /* 許容範囲最大値下位                 */

/* 閏年月カウンタ値(テーブルの月カウンタ値と併用) */
#define DFMR_OS_LEAPFEB 0x95586C00      /* 閏年02月                           */

#define	DFMR_FATSTART_ADDYEAR	20		/* FAT開始年1980年の為の補正値*/
/*************************************/
/* テーブル定義                      */
/*************************************/
/* 月カウンタ値(通常年) */
extern F_DWORD tfmr_os_monthcnt[12];
/* 閏年２月 */
extern F_DWORD tfmr_os_monthcntlf;

/*************************************/
/* 構造体宣言                        */
/*************************************/
/* 暦取得用テーブル */
typedef struct tagTFMR_OS_CAL{
    F_WORD year;                        /* 年                                 */
    F_WORD month;                       /* 月                                 */
    F_WORD day;                         /* 日                                 */
    F_WORD hour;                        /* 時                                 */
    F_WORD minute;                      /* 分                                 */
    F_WORD second;                      /* 秒                                 */
    F_WORD msec;                        /* m秒                                */
}TFMR_OS_CAL;

#endif /* __FMR_OS_H__ */
/******************************************************************************/
/*      Unpublished Copyright (C) 2004      ウェスコム株式会社                */
/******************************************************************************/
