/*----------------------------------------------------------------------*
 * File name	: vdpmdrv.h	/ virtual dpmem driver prototype	*
 *----------------------------------------------------------------------*
 *$Header: p:/presto2/shinc/drive/RCS/vdpmdrv.h 1.1 1970/01/01 00:00:00 chimura Exp $
 *$Log: vdpmdrv.h $
 * リビジョン 1.1  1970/01/01  00:00:00  chimura
 * 初期リビジョン
 * 
 *----------------------------------------------------------------------*
 *Header: p:/include/drive/rcs/vdpmdrv.h 1.2 1995/09/14 17:06:34 chimura
 *Log: vdpmdrv.h
 * リビジョン 1.2  1995/09/14  17:06:34  chimura
 *----------------------------------------------------------------------*/
/*		(c) Copyright 1993, ISHIDA  CO., LTD.			*/
/*		959-1 SHIMOMAGARI RITTO-CHO KURITA-GUN			*/
/*		SHIGA JAPAN						*/
/*		(0775) 53-4141						*/
/*----------------------------------------------------------------------*/

#if	!defined(VDPMDRV_H)
#define	VDPMDRV_H

/*----------------------------------------------------------------------*/
/*	<<< 機能説明 >>>						*/
/*----------------------------------------------------------------------*/
/*    仮想的に、DP-SRAM(MB8421/31,MB8441:富士通)と同じ機能を、APLに	*/
/*    提供するドライバーのライブラリーである。DP-SRAMのドライバーと	*/
/*    同様に、APLから提供されるメッセージの最後尾のキャラクタを、ノ	*/
/*    ードとして扱い送信し、受信側ではタスクの配列のノード番目のAPL	*/
/*    タスクを直接起床する。						*/
/*    ただし汎用のROM化read/write関数にはリンクされていないため、直	*/
/*    接以下の関数群をAPLから直接呼び出す必要がある。			*/
/*    init関数呼出時には、第一引数としてメモリタイプ、第二第三引数	*/
/*    としてダイレクション０、１それぞれの書き込みにより起床される	*/
/*    タスクのアクセスアドレスの配列のfarポインタを必要とする。		*/
/*    read/write関数呼出時に、第一引数としてダイレクションの指定	*/
/*    パラメータを必要する。						*/
/*									*/
/*	ダイレクション:	DP-SRAMのR/L側の設定に相当する。実際には１CP	*/
/*			Uが、同じメモリーを送信/受信用として使用する	*/
/*			ため、ドライバー内で識別するための変数として	*/
/*			いる。						*/
/*----------------------------------------------------------------------*/

#define	VDPM_DIR	0x1		/* ダイレクションの設定		*/

enum vdpmdir {
	VDPMDIR0,			/* ダイレクション０ */
	VDPMDIR1,			/* ダイレクション１ */
	VDPMDIR_MAX,
};

enum dpmtyp {
	MB8421x1,			/* MB8421        :2K byte	*/
	MB8421x2,			/* MB8421+MB8431 :4K byte	*/
	MB8441x1,			/* MB8441	 :8K byte	*/
	MB8441x2,			/* MB8441+MB8441 :16K byte	*/
	DPMTYP_MAX,
};
typedef enum dpmtyp	DPMTYP;

int	vdpm_sys_init( DPMTYP dtyp, union aap *aa_ary0, union aap *aa_ary1);
int	vdpm_read(int ch_dir, char *buf, int len);
int	vdpm_write(int ch_dir, char *buf, int len);


#endif
