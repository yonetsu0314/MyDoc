/*======================================================================
 * File name    : pcmsock.h
 * Original		: r:/c/astra-s/exp/rcs/pcmsock.h 1.2
 *----------------------------------------------------------------------
 * Function 	:
 *----------------------------------------------------------------------
 * $Header: p:/presto2/shinc/drive/RCS/pcmsock.h 1.1 1970/01/01 00:00:00 sakaguti Exp $
 * $Log: pcmsock.h $
 * リビジョン 1.1  1970/01/01  00:00:00  sakaguti
 * 新規リビジョン
 * 
 *----------------------------------------------------------------------
 *		(C) Copyright 2002, ISHIDA CO., LTD.                            
 *		959-1 SHIMOMAGARI RITTO-CITY SHIGA JAPAN                        
 *		PHONE (077) 553-4141                                            
 *----------------------------------------------------------------------*/
/************************************************************************/
/*                                                                      */
/*      ファイル名      : PCMSOCK.H                                     */
/* ==================================================================== */
/*      機能分類        : ＰＣＭＣＩＡソケットサービスＡＰＩ	        */
/*      作成日付        : 1997.12. 5 < Fri >                            */
/*      作成者名        :                                               */
/*                                                                      */
/*  履歴管理                                                            */
/* ------------+----------+-------------------------------------------- */
/*  日 付      | 管理番号 | 担当者名及び変更内容                        */
/* ------------+----------+-------------------------------------------- */
/*             |          |                                             */
/* ------------+----------+-------------------------------------------- */
/*             |          |                                             */
/* ------------+----------+-------------------------------------------- */
/*                                                                      */
/************************************************************************/
#ifndef __PCMSOCK__
#define __PCMSOCK__

	/*==========================================================
							定数宣言
	==========================================================*/
#define PCMCIA_COMM_BASE ((volatile unsigned char*)0x28000800)
#define PCMCIA_ATTR_BASE ((volatile unsigned char*)0x28000000)
#define PCMCIA_IO_BASE   ((volatile unsigned char*)0x28200000)

	/*==========================================================
						マクロ関数宣言
	==========================================================*/
#define	ioout( p, d )	(*(p)) = d
#define	ioinp			*

	/*==========================================================
							構造体宣言
	==========================================================*/
/* GetStatusが返すフラグの定義 */
#define SS_WRPROT		0x01		/* 書込み禁止		*/
#define SS_WRPROT_OFF	0x02		/* 					*/
#define SS_EJECTION		0x04		/* カード抜き取り	*/
#define SS_INSERTION	0x08		/* カード差し込み	*/
#define SS_BATDEAD		0x10		/* バッテリ死亡		*/
#define SS_BATWARN		0x20		/* バッテリ警告		*/
#define SS_READY		0x40		/* レディ状態		*/
#define SS_DETECT		0x80		/* カード検知		*/
#define SS_POWERON		0x100		/* カード電源ＯＮ	*/
#define SS_GPI			0x200		/* 					*/
#define SS_STSCHG		0x400		/* ステータス変化	*/

/* カード設定フラグ */
#define SS_PWR_AUTO		0x10		/* 電源自動供給			*/
#define SS_IOCARD		0x20		/* Ｉ／Ｏカードモード	*/
#define SS_RESET		0x40		/* カードリセット		*/
#define SS_DMA_MODE		0x80		/* ＤＭＡモード			*/
#define SS_SPKR_ENA		0x100		/* スピーカー許可		*/
#define SS_OUTPUT_ENA	0x200		/* 出力許可				*/


	/*==========================================================
						プロトタイプ宣言
	==========================================================*/
void SetPcmciaHandler( void (*fptr)( void *evt ) );
int  InitSocketService( void );
int IsPcmciaEnable( void );
int PcmciaEjectFake( int psock );
void PcmciaEvent( void );

int PcmciaHardTest( int sock );



#endif
