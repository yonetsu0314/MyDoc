==============================================================================

                NORTi Version 4 更新履歴 (NORTi4_SH_SHC_1.12.TXT)
                               2003年 9月12日

                Copyright (c) MiSPO Co., Ltd. 1991-2003
                       http://www.mispo.co.jp/

==============================================================================

■ はじめに

本ファイルには、カーネル共通部と製品固有部、及びTCP/IPプロトコルスタックの更
新履歴が記載されています。

NORTi Version 4 (SuperH/SHC)     Rel. 1.12
      カーネル                     Ver. 4.07.08
      TCP/IPプロトコルスタック     Ver. 4.08.10

※注意
    ルネサスC Ver.6.x  ルネサスC Ver.7.x では標準ライブラリを各ユーザが作成
    しなければなりません。そのままサンプルのコンパイル/リンクを行うとライブ
    ラリリンクエラーを起こします。この標準ライブラリを作成するのに便利なバッ
    チファイルを用意しましたので V7V6Stdlib.pdf を読んで標準ライブラリを生
    成して下さい。

■ カーネル製品固有部の更新履歴

 □ NORTi Version 4 (SuperH/SHC)

      Ver. 1.00
          ニューリリース
      Ver. 4.02.01
          1. カーネル共通部 4.02.00 に対応しました。
          2. フックルーチンを見直しました。
          3. ディスパッチ禁止中のディスパッチ制御に問題があり、修正しました。
          4. SH4 での割込みサービスルーチンの定義時、キャッシュをパージする
            ように修正しました。
      Ver. 4.03.02
          1. カーネル共通部 4.03.00 に対応しました。
      Ver. 4.03.03
          1. 日立 C Ver.6.0 に対応しました。
      Ver. 4.05.04
          1. カーネル共通部 4.05.00 に対応しました。
          2. 日立 C Ver.6.0 使用時に STACKセクションがワード境界に配置されな
            い場合があり、修正しました。
          3. SH-2Eでの FPU使用時に禁止されている命令を使用していたため、これ
            を修正しました。
      Ver. 4.05.05
          ベータ版として
      Ver. 4.05.06
          ベータ版として
      Ver. 4.05.07
          1. 日立 SH C Ver. 7.0.02 に対応しました。
      Ver. 4.06.07
          1. カーネル共通部 4.06 に対応しました。
             (日立 SH C Ver. 7.1.00 動作を確認しました。)
      Ver. 4.07.07
          1. カーネル共通部 4.07 に対応しました。
             (ルネサス SH C Ver. 7.1.02 動作を確認しました。)
      Ver. 4.07.08
          1. ルネサス SH C Ver.6.0x SH4 のレジスタ参照ミスを修正


■ カーネル共通部の更新履歴

2003/05/22  Ver.4.07.00

  ・動的なメモリ管理
    可変長メモリプールや OSが使用するシステムメモリなど、動的なメモリ管理
    を変更しました。これにより、管理できる最小メモリブロックのサイズが半分
    になり、RAM使用量がより少なくなりました。
  ・cre_mpl
    メモリプール領域をユーザーが定義する場合、OSの使用する領域が不要になり
    確保した全領域をメモリプールとして使用できるようになりました。
  ・rel_mpl
    可変長メモリブロック返却時のチェックが強力になり、可変長メモリプール内
    の領域と返却メモリブロックに不整合（領域の重なり）を検出した場合、E_PAR
    エラーを返します。
    注）OSが不整合を検出した時点でエラーを返すため、エラーを返したシステム
        コールに問題があるとは限りません。それより以前の rel_mplに問題があ
        り、エラーの検出が後になる場合があります。
  ・del_tsk
    ユーザー定義スタックの使用時、スタック領域をシステムに返却する不具合が
    あり修正しました。
  ・ref_mbx
    送信待ちメッセージがある場合、待ちタスクIDとして不定値を返す不具合があ
    り修正しました。
  ・frsm_tsk
    サスペンド状態でないタスクに対して発行した場合、E_OBJエラーを返さずに
    タスクキューを破壊する不具合があり修正しました。
  ・ter_tsk
    ミューテックスをロックした状態で、dly_tsk, slp_tsk またはランデブ終了
    待ちのタスクに対して発行した場合、ミューテックスがアンロックされない不
    具合があり修正しました。
  ・chg_pri
    ディスパッチ禁止中に発行した場合、ena_dspを発行してもディスパッチされ
    ない不具合と自タスクに対して発行する以下の不具合があり修正しました。
    1. TSK_SELFで自タスクを指定し、実行中と同じタスク優先度を指定した場合
       同じタスク優先度にレディタスクが存在してもディスパッチされない。
       また、ディスパッチを伴うシステムコールの発行までに割込みが発生する
       と、そのタイミングでディスパッチされる。
    2. 自タスクのIDを指定し、実行中よりも低いタスク優先度を指定した場合、
       より優先度の高いタスクが存在してもディスパッチされない。
       また、ディスパッチを伴うシステムコールの発行までに割込みが発生する
       と、そのタイミングでディスパッチされる。
  ・ref_tsk
    待ち状態でないタスク、または slp_tsk,tslp_tsk 待ちタスクに対して発行し
    た場合、待ちタイムアウトまでの時間として不定値が返される不具合があり修
    正しました。
  ・def_ovr
    システムメモリ不足になった場合、エラーコードとして E_SYSではなく任意の
    値（通常は 1）が返る不具合を修正しました。

2002/05/14  4.06.00

  ・動的なメモリ管理
    可変長メモリプールや OSが使用するシステムメモリなど、動的なメモリ管理に
    おいて、ある特定の条件の元で使用可能なメモリが減少する場合があり、この
    不具合を修正しました。
    この修正により、RAM使用量が若干増加する場合があります。
  ・タスクIDの型
    タスクIDの型を、本来の TSK_IDだけでなく UBと表現している箇所があり、こ
    れを修正しました。（この問題による不具合は発生しません。）
  ・twai_flg
    第三引数の型を、UINTから本来の MODEに修正しました。
  ・cre_cyc
    周期ハンドラ起動フェーズに 0を設定した場合で、TA_STAまたはTA_PHSを指定
    すると周期ハンドラが起動されない不具合があり修正しました。
  ・cre_cyc, sta_cyc, stp_alm
    あり得ないIDを指定した場合のエラーコードを、E_PARから本来の E_IDに修正
    しました。
  ・sig_ovr
    アイドル状態の時にオーバーラン監視用割込みが発生した場合、不定領域をア
    クセスする不具合があり修正しました。

2001/12/13  4.05.00

  ・M16C/60シリーズ用カーネルと統合
    変数や関数を表す属性を定義できるよう修正しましたが、M16C/60以外では全て
    コメントになります。
  ・exd_tsk
    ユーザー定義スタックの使用時、スタック領域をシステムに返却する不具合が
    あり修正しました。
  ・_kernel_inROM
    _kernel_inROM関数のプロトタイプ宣言を BOOL _kernel_inROM(const void *p)
    に変更しました。

2001/07/16  4.04.00

  ・ref_alm
    不正ID番号のエラーコードを E_PARから E_IDに修正しました。
  ・get_mpl, get_pri
    誤ったデータをフックしていたので修正しました。
  ・cre_mbf
    メッセージバッファ領域を指定してメッセージバッファを生成した場合に、領域
    サイズが不定値になる不具合があり修正しました。
  ・chg_pri, get_pri
    割込みハンドラから使用した場合に、E_CTXエラーを返す不具合があり修正しま
    した。
  ・acre_isr, acre_dtq
    ID番号不足時のエラーコードを E_IDから E_NOIDに修正しました。
  ・del_flg, del_por
    管理領域の計算を誤り、システムメモリを破壊する不具合があり修正しました。
  ・sus_tsk
    自タスクに対して sus_tskを発行した場合に、SUSPENDED状態が遅延され、しば
    らくは実行状態を保つ不具合があり修正しました。
  ・del_dtq
    送信待ちタスクが存在する場合では、待ちは解除されるがレディキューに接続さ
    れない不具合があり修正しました。
  ・ref_mbf
    メッセージ最大長が 1バイトの場合に、キューイングメッセージ数の計算に不具
    合があり修正しました。
  ・loc_mtx
    優先度継承プロトコルでロック待ちタスクがない場合では、それ以前にロックし
    ていたタスクの優先度に変化する不具合があり修正しました。
  ・tcal_por
    ランデブ受付待ちタスクがある場合では、時間監視が行われない不具合があり
    修正しました。
  ・def_cyc
    TCY_OFF属性の周期起動ハンドラを定義すると、正常終了を返すが、実際に周期
    起動ハンドラは実行されない不具合を修正しました。

2000/11/06  4.03.00

  ・microVEW-G RTOS対応用カーネルライブラリ修正
    一部のシステムコールで引数を誤った順序でトレース、誤ったシステムコールと
    してトレースする不具合があり修正しました。
  ・タスク例外ハンドラ制御を修正
    待ち状態のタスクに対してタスク例外ハンドラが実行され、カーネルより高優先
    度の割込みが直前で発生した場合、エラーコードが書きかえられる可能性があり
    修正しました。
  ・起動要求がキューイングされた状態での ext_tsk
    起動要求がキューイングされた状態での ext_tskにより、カーネルより高優先度
    の割込みが発生する、またはスタックポインタの深さによって、ごくまれに暴走
    する危険があり修正しました。
  ・cre_cyc, acre_cyc
    エラーになった場合も、create 作業を行ったため、エラーチェックが行われない
    不具合があり、これを修正しました。
  ・def_ovr
    OSタイマハンドラ以外で、設定->解除->再設定を行った場合、暴走する危険があ
    り修正しました。
  ・ER_UINT型
    unsigned int から unsigned int に変更しました。

2000/9/23  4.02.00

      本バージョンより、バージョン付け規則を改定しました。

  ・tloc_mtx
    割込みレベルがタスクレベルよりも高い状態で戻る場合があり、この不具合を修
    正しました。
  ・unl_cpu
    ディスパッチ禁止中に発生したタイムイベントハンドラ内で unl_cpu を使用し
    た場合、それ以降の割込みによりタイムイベントハンドラを中断しタスクにディ
    スパッチする不具合があり修正しました。（1.20 の誤修正により発生）
  ・chg_ims
    割込みハンドラ（割込みサービスルーチンを含む）内で chg_ims を発行した場合
    に、ディスパッチ禁止状態になる不具合を修正しました。
  ・microVEW-G RTOS対応用カーネルライブラリ追加
    カーネルのフックルーチンを見直し、microVEW-G RTOS対応用カーネルライラリを
    ディレクトリ YDC に追加しました。

2000/8/25  1.20

  ・del_xxx
    ディスパッチ禁止中にも関わらず、del_xx により優先度の高いタスクが発生した
    場合、ディスパッチを行う不具合を修正しました。
  ・ena_dsp
    ディスパッチ禁止中に周期タイマ割込みが発生した場合、ena_dsp によりディス
    パッチはされず、次の周期タイマ割込みまでディスパッチ禁止が継続される不具
    合を修正しました。
  ・del_tsk
    タイムイベントハンドラ内でディスパッチ禁止中のタスクに対して del_tsk した
    場合、管理情報は更新されるが、タスクは再び実行される不具合を修正しました。
  ・ter_tsk
    割込みハンドラ（割込みサービスルーチンを含む）とタイムイベントハンドラ内
    でディスパッチ禁止中のタスクに対して ter_tsk した場合、管理情報は更新され
    るが、タスクは再び実行する不具合を修正しました。
  ・ter_tsk, ext_tsk
    タスク例外ハンドラが未定義のタスクが対象になった場合、0番地近辺の領域を破
    壊する不具合を修正しました。
  ・acre_cyc
    正しい周期起動ハンドラ番号が返らない不具合を修正しました。

2000/6/16  1.10

  ・chg_pri
    FIFO属性の待ち行列につながれているタスクに対して chg_pri をおこなうと待ち
    行列の最後につなぎ換えてしまう、または内部データを破壊する不具合を修正し
    ました。
  ・sns_loc, sns_dpn
    状態を正しく返さない不具合を修正しました。

2000/4/26  1.00  ニューリリース


■ TCP/IPプロトコルスタックの更新履歴

2003/08 Rel1.12 Ver4.08.10

  [Rel1.11からの障害による変更点]

  ・ルネサスCコンパイラ Ver.7を使用時に通信が4Gbyteを超えると通信が正しく行わ
    れなくなる問題に対応

  ・UDPでフラグメントが発生するデータの送信が正しく行われない問題に対応

  ・リトルエンディアンモード動作時にIGMPのパケットが正しく送信されない問
    題に対応

  ・スロースタートの問題で回線の速度が極端に遅い環境下で使用すると、再送
    が頻発する問題を修正

  ・ARPテーブルがオーバーフローする問題に対応

  ・マルチキャストパケットの受信の際に送信するIGMPのパケットが
    IGMP_UNUSEDになっていた。これをIGMP_REPORTに変更

  ・日立Cコンパイラを使用した時に、システム起動時未初期化変数を0で初期化
    しなかった場合、動作が不安定になる。(*pICMP_CB,*pIP_CB,*pARP_CB)

  ・tcp_snd_datで連続して送信中にLANケーブルを抜くと、送信バッファが一杯
    になるまで再送パケットが出力されない問題を修正

  ・NORTiのMTUサイズ(デフォルト1500byte)よりも大きいMTUのホストからデー
    タを受信した場合破棄するように変更

  ・旧バージョンではTCP受信バッファにデータが残っている状態でtcp_cls_cep
    を呼び出すとE_RLWAIが返る。これをE_OKとするように変更

  ・リトルエンディアンでマルチキャストアドレスが正しく変換されない問題を修正

  (Rel1.11からの機能変更点)

  ・TCP再送時間をアプリケーションでコンフィグレーションが可能に

  ・ARPテーブルのタイマーリフレッシュ機能

  ・TCPのMSS対応

  ・SNMPの未対応MIBの追加

  ・PPPのIPフラグメント処理に対応

  ・MSECマクロをプロトコルスタックで直接使用しないように変更

  ・ブロードキャストPingに対応(応答可能)

2003/01 Rel1.11 Ver4.08.09(b3)

  [Rel1.10からの障害による変更点]

  ・未初期化領域のメモリを0クリアしない場合、システム起動時にARPテーブル
    にゴミが入り誤動作を起こす。tcp_iniで0クリアをするように変更

  ・受信処理でウインドウサイズが0になるとアプリケーションがデータを受信
    するまで不要なACKが送信される問題を修正

  ・多重ACKを受信すると送信が停止する問題を修正

  ・tcp_acp_cepでエラー後に、tcp_del_cepを呼び出すとE_OBJエラーになる問
    題を修正

  ・tcp_cls_cepの処理中にリモートホストからRSTを受け取るとE_OBJが返り、
    その後、正常に接続ができなくなる問題を修正

  ・KeepAliveパケットが送信されると、KeepAliveパケットの送信が止まらなく
    なる問題を修正

  ・スロースタートの問題で回線の速度が遅い環境下で使用すると、再送が頻発
    する問題を修正

  ・フロー制御を強化し、パケットを回線上で喪失すると、通信スピードが極端
    におそくなる問題を修正

  (Rel1.10からの機能変更点)

  ・可変長メモリプールを使用していた、IPフラグメントの処理を従来使用して
    いた固定メモリプールを併用するように変更。可変長メモリプールは未使用
    に。

  ・RFCの仕様に則り受信パケットをチェックするように変更。tcp_con_cep呼び
    出し後にSYNが送信され、SYN,ACKを待つ、このときに不正なパケットを送信
    した場合はRSTを送信するか、無条件にパケットを捨てる

Ver4.08.09 (2002/12/20)

  ・tcp_cls_cepで処理中にRSTを受信した場合ステータスが正しく変更されない問題
    を修正(Ver4.08.09b 2002/12/10)
  ・受信パケットのシーケンス番号を厳密にチェックするように変更
 　　(Ver4.08.09b 2002/12/10)
  ・KeepAliveタイマーを無効にできるようにマクロを変更
 　　(Ver4.08.09b 2002/12/10)
  ・IPフラグメント処理で使用していた可変長メモリプールを固定長メモリプールに
  ・キープアライブと再送で使用するパラメータをコンフィグレーション定義できるよ
    うに変更
  ・tcp_acp_cepでエラー後に、tcp_del_cepを呼び出すとE_OBJエラーになる問題に対応
  ・多重ACK受信時のフロー制御処理を変更
  ・ウインドウサイズが小さくなると不要なACKパケットが送信される問題に対応

Ver4.08.08 (2002/09/23)

  ・フロー制御が正しく行われない問題を修正(Ver4.08.08a 2002/09/28)
  ・最後に登録されたARPテーブルが残る問題に対応
  ・SNMP使用時のIpNetToMediaエントリーのタイミングのタイミングの問題を修正
  ・IP受信タスクにあった不要なtcpip_creticalを削除
  ・tcp_cls_cep実行時にTCP受信バッファにデータが残っていた場合、E_RLWAIで
    リターンしRSTパケットを発行するように変更
  ・tcp_snd_datをコールバックで使用後に切断処理でタイムアウトエラーが発生
    するとファンクションコードTFN_TCP_SND_DATが残る問題に対応
  ・tcp_sht_cep送信後にデータを受信すると正しいACKが返らない問題に対応

Ver4.08.07 (2002/09/6)

  ・TCPで無効なRSTパケットを受信した場合は破棄する
  ・TCPで無効なシーケンス番号を受信した場合はRSTを送信する

Ver4.08.06 (2002/08/31)

  ・UDPフラグメントパケットのメモリ解放処理方法に不具合があり修正

Ver4.08.05 (2002/07/31)

  ・内部関数tcp_timeoutからコールバックが呼ばれたときに、fncdに不正な値が入る
    問題を修正
  ・シーケンス番号とポート番号の設定方法を変更
  ・内部でMSECマクロを使用しないように変更
  ・ARPテーブルの初期化を行うように変更
  ・リトルエンディアンモード動作時にIGMPパケットの長さが正しく計算されない問題
    を修正
  ・スロースタートで条件により、SYN,ACKパケットが出続ける問題に対応

Ver4.08.04 (2002/07/03)

  ・H8使用時に大きなデータを転送できない問題を修正
  ・タイミングによって送信が遅くなる問題を修正    （Ver4.08.02からの問題）
  ・Zero Window Probe 処理方法の問題を修正        （Ver4.08.02からの問題）
  ・RSTパケットが正しく出力されない問題を修正     （Ver4.08.02からの問題）

Ver4.08.02 (2002/06/23)

  ・再送アルゴリズムを強化
  ・キープアライブに対応
  ・IPフラグメントに正式対応
  ・H8使用時に大きなデータを転送できない問題を修正
  ・tcp_cls_cepのコールバックに呼び出し中にtcp_can_cepが正しく動作しない問題に対応
  ・udp_snd_datによる待ち状態の起床方法を修正
  ・複数のUDP通信端点がないとブロードキャストパケットが受信できない問題に対応
  ・スロースタートと輻輳回避アルゴリズムを強化

Ver4.07.00 (2002/04/11)

  ・スロースタートと輻輳回避アルゴリズムに対応
  ・チェックサム異常のACKパケットが送信されるタイミングがある問題に対応
  ・UDPパケット受信でチェックサムエラーになるタイミングがある問題を修正

Ver4.06.50 (2002/03/05)

  ・remove_sndque_udppkt関数でサスペンド中の処理が正しく起床されない問題に対応
  ・SNMPも更新処理を一部追加／変更
  ・ICMPでpingの応答時のTTLを自身の値を使用するように変更(32)
  ・tcp_acp_cep,tcp_con_cep処理中にRSTを受信すると、接続がエラーになるにもかか
    わらずE_OKでリターンする問題に対応
  ・タイミングによってIPアドレスが0のRSTパケットが送信される問題に対応
  ・remove_sndque_udppktで不正なタスク起床処理が行われてしまう問題に対応

Ver4.06.00 (2001/11/14)

  ・SNMPのフック処理を追加
  ・連続送信後の切断処理でFINが出力されないタイミングがある問題を修正
  ・リトルエンディアンモード動作時にUDPのチェックサム計算が正しく計算されない問
    題を修正
  ・IGMPパケット送信時にメモリ破壊を起こす可能性がある問題を修正
  ・FIN送信ペンディング中にRSTを受信してもtcp_cls_cepが終了しない問題を修正
  ・受信時にウインドウバッファが0になるとtcp_rcv_datが0でリターンする問題を修正
  ・相手のウインドウバッファが1460未満で生成されるとデータが送れなくなる問題を
    修正
  ・受信をTMO_NBLKで呼出し後にすぐtcp_cls_cepをTMO_NBLKで呼ぶとコールバックが
    呼ばれない問題を修正
  ・TCPデータ受信時に相手のパケットが逆転したときに発生する不具合に対応
  ・ブロードキャストのマルチホーム受信に対応
  ・マルチキャスト受信でポート番号を正しくチェックしていない問題に対応

Ver4.05.00 (2001/05/21)

  ・udp_snd_dat完了待ち中に同一端点でudp_rcv_datを呼び出すとメモリの2重解放が行
    われる問題に対応
  ・tcp_con_cepのdstaddrに内部で不要な書込みが行われる問題に対応
  ・Zero Window Probe 処理方法に一部問題があり、修正
  ・TCPのデータ受信処理でバッファフルの状態が続くと、ACKが正しく返らない問題に
    対応
  ・TCPのRSTパケットを受信したときに余計なコールバックが発生する問題を修正
  ・TCPで不要な遅延ACKが起こる問題を修正
  ・TCPのフロー制御処理を強化
  ・PPPでもACK送信の判定を行うように変更

Ver4.04.00 (2001/02/10)

  ・1回の接続で4GBを超える転送を可能に
  ・IGMPパケット受信時データを受信する処理でサイズの指定が誤っていた問題を修正
  ・ICMPのリプライ処理でサブネットマスクの計算が正しく行われない問題を修正
  ・内部関数tcp_port_any, udp_port_anyの処理方法を変更

Ver4.03.01 (2001/01/18)

  ・ARM系コンパイラでのWarningをとりました

Ver4.03.00 (2000/12/6)

  ・tcp_del_cep,udp_del_cepから呼ばれる内部関数remove_queued_packetでタイミングに
    よって無限ループに陥る問題に対応
  ・udp_rcv_datをコールバックからの呼び出しのみTMO_POLが使用できるように変更

Ver4.02.00

  ・udp_snd_datでE_PARエラーになるサイズの計算ミスを修正
  ・TCPのフロー制御を強化
  ・TCPでSYN、FIN受信でRSTパケットを返すSEQ番号が+1されていなかった問題に対応
  ・tcp_cls_cep発行後に受け取ったパケットに対して全てRSTを返すように変更
  ・DHCP、DNSサンプルをリトルエンディアンに対応
  ・FINパケットでも無応答の場合は再送を行うように変更
  ・MS7615SEのサンプルが追加されました。

  ・H8に対応
  ・FTPクライアントがWindowsNTと接続できない問題に対応
  ・tcp_cls_cep,tcp_sht_cepでFINが正しく送信されない場合がある問題に対応

  ・tcp_del_cepで端点使用中にも関わらずE_OKで終了する不具合を修正
  ・連続送信処理後のクローズ処理が正しく行われない場合がある問題に対応
  ・Zero Window Probeに対応。
  ・送受信の遅延ACKによる高速化に対応
  ・udp_rcv_datで渡されたデータが4byte境界にないとアドレスエラーが起きる問題
    に対応。
  ・tcp_con_cepのポート番号チェック時に無効な変数を参照していた個所を修正。
  ・受信IPパケットがエラーの時のパケット破棄漏れを修正。
  ・udp_rcv_dat,udp_snd_datが待ち状態中に他のタスクからudp_del_cepが呼び出さ
    れると、待ちが解除されない(E_DLTエラーが返ってこない)不具合を修正。
  ・サブネット・ダイレクト・ブロードキャストに対応。
  ・リトルエンディアンに対応
  ・tcp_snd_datで既に相手からFINを受け取っている場合、E_CLSでリターンする処
    理を追加。
  ・コールバック呼び出しでは不要のクリティカルセクション制御を行わない。
  ・tcp_get_bufで取得したバッファ長と同じ長さをtcp_snd_bufに指定するとE_PAR
    が返る問題に対応。
  ・tcp_snd_bufで確保したバッファ長を超えるデータ長を指定したときにE_OBJで
    はなくE_PARが返る問題を修正。
  ・tcp_snd_dat,tcp_snd_buf,tcp_cls_cep 実行中にRSTを受け取っても実行中のタ
    スクが起床されない問題を修正。
  ・tcp_cls_cepのタイムアウト時にRSTを発行する処理を追加
  ・tcp_can_cep,udp_can_cepを実装。
  ・1回目のtcp_con_cepでSYN送信までに5秒掛かる問題に対応

   ※ 本バージョンよりプロトコルスタック内部はNORTi3、NORTi4のどちらでも使用
      できます。

Ver3.12b

  ・NORTi3カーネルが3.11bになりました。
  ・exeGCCコンパイラに対応しました。

Ver3.12

  ・SH4対応に伴いMS7750SEのサンプルが追加されました。
  ・ICMPエコーで奇数バイトのデータを受信したときにチェックサムの計算が
    正しく行われない問題を修正しました。
  ・udp_rcv_datでエラーの際に正しいエラーコードが返らない不具合を修正しました。
  ・tcp_con_cepの応答待ちで、待機中の端点のACK番号と送られきたシーケンス番号
    が異なっていた場合に無限にSYNを送信する不具合を修正しました。
  ・省コピーAPI内部関数(tcp_get_sbuf,tcp_put_sbuf,tcp_rel_rbuf)が正しく動作し
    ない障害を修正しました。

Ver3.11

  ・ARPリトライ満了時UDP送信待ちを強制解除するように変更しました。
  ・ARPが無限に出力される問題を修正しました。
  ・MB86964のLANドライバ関数lan_get_endの不具合を修正しました。
  ・SH3.NETのMS7709.makでnos7709.cのオプションをCH1からCH2に変更しました。

Ver3.10

  ・SH3対応に伴いMS7709SEのサンプルが追加されました。
  ・ゲートウェイ機能追加に伴い(default_gateway,subnet_mask)が追加されました。
  ・通信端点、受付口のID自動割り当て用の関数
   （tcp_vcre_cep,tcp_vcre_rep,udp_vcre_cep)が追加されました。
  ・RSTフラグ付きのデータを送信する際に、ACKフラグもONにして送信するように修
    し正ました。
  ・udp_snd_datの戻り値でエラーの際に必ず0でリターンしてしまう不具合を修正し
    ました。

Ver3.02

  ・n3i7040.c がリモートデバッガで動作しない不具合を修正しました。
  ・ping コマンドを追加しました。TELNET から使えます。
  ・Ethernet のパケットをモニタ表示できるようにしました。このために、
    ライブラリ n3nsh2.lib に代わる n3dsh2.lib を追加しました。
    サンプルでは、CH1 へ 38400baud で Ethernet パケットの簡単な解析結果を出力
    しています。
    ただ、負荷が重いので、通常用いるには、リンクする TCP/IP のライブラリを
    n3nsh2.lib へ戻してください。

Ver3.01

  ・ルネサスC での Warning をとりました。
  ・noncons.c と nondump.c で誤って nosio3.h を include していたのを、nonsio.h
    に改めました。
  ・TCP のシーケンス番号が、オープンする毎に 0 から始まっていたのを、最初だけ
    0 となるよう修正しました。
  ・MiNET-7042 ボードサンプルの net7042.c から、ボードテスト部分を分離し、
    mi42tes.c へ移しました。
  ・net7042.abs と net7042r.abs の用途を逆にしました。net7042.abs が、ROMICE
    用、net7042r.abs がリモートデバッガ用です。

