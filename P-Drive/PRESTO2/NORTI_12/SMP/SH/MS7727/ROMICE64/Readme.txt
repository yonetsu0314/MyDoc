==============================================================================

                   はじめにお読みください(Readme.txt)
                              2002年3月19日

                Copyright (c) MiSPO Co., Ltd. 1991-2002
                       http://www.mispo.co.jp/

==============================================================================

このファイルではコンピューテックス製ROMICE64で日立製SolutionEngine(MS7727SE01)
をサンプルプログラムをデバックするために必要な設定に付いて説明します。

■ SolutionEngineのディップスイッチ設定
起動に関わる部分の設定を下記に示します。
SW1-6をビックエンディアンかリトルエンディアンかで設定しなおしてください。

SW1
┌────────────────────────┐
│┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐│ON
││■││■││■││  ││  ││  ││  ││  ││
││  ││  ││  ││■││■││  ││■││■││
│└─┘└─┘└─┘└─┘└─┘└─┘└─┘└─┘│OFF
└────────────────────────┘
　　│　　│　　│　　│　　│　　│　　│　　└ SW1-8 OFF H-UDIを使用しない
　　│　　│　　│　　│　　│　　│　　└─── SW1-7 OFF 固定
　　│　　│　　│　　│　　│　　└────── SW1-6     Endian ON=Big OFF=Little(出荷時)
　　│　　│　　│　　│　　└───────── SW1-5 OFF 固定
　　│　　│　　│　　└──────────── SW1-4 OFF 固定
　　│　　│　　└──────────────┐ SW1-3 ON
　　│　　└─────────────────┼ SW1-2 ON  CPUMODE MODE0(出荷時)
　　└────────────────────┘ SW1-1 ON

SW4
┌────────────────────────┐
│┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐│ON
││  ││  ││■││■││■││■││  ││  ││
││■││■││  ││  ││  ││  ││■││■││
│└─┘└─┘└─┘└─┘└─┘└─┘└─┘└─┘│OFF
└────────────────────────┘
　　│　　│　　│　　│　　│　　│　　└──┴ SW4-7,SW4-8　OFF 未使用
　　│　　│　　│　　│　　│　　└────── SW4-6 ON  CS4,CS6 に搭載されている周辺LSI を使用
　　│　　│　　│　　│　　└───────── SW4-5 ON  SRAM     h'01C00000〜h'01DFFFFF :SRAM
　　│　　│　　│　　└───────────┬ SW4-4 ON  ROMICE用 h'00000000〜h'003FFFFF :EPROM
　　│　　│　　└──────────────┘ SW4-3 ON  ROMICE用
　　│　　└─────────────────┬ SW4-2 OFF SH7727内蔵SCIF 9600bps
　　└────────────────────┘ SW4-1 OFF

■ SolutionEngineとROMICE64の接続
以下の通り接続して下さい。

ROMソケットU61 = ROMICE64 42PINプローブ ROM4 & ROM3
ROMソケットU63 = ROMICE64 42PINプローブ ROM1 & ROM2
TP8 = NMI 　(YEL)┐
TP7 = RESET (GRN)├ ROMICE64 CCN
TP6 = GND 　(BLK)┘

■ ROMICE64のユーザ・カスタマイズ・プログラムに付いて
SolutionEngineの初期設定をROMICE64で行う為にユーザ・カスタマイズ・プログラムが
必要になます。
ディップスイッチSW1-6の設定に合ったユーザ・カスタマイズ・プログラムをCSIDEの
[ハードウエアの設定]→[モニタ]画面に有るユーザ・カスタマイズ・プログラムの指定
に記入して下さい。

WishB.UCM 　ビックエンディアン用ユーザ・カスタマイズ・プログラム
WishL.UCM 　リトルエンディアン用ユーザ・カスタマイズ・プログラム

カスタマイズした環境で修正が必要な場合下記ファイルを使用して変更してください。

Wish.SRC　　　上記ファイルのソースファイル(ビック・リトルエンディアン共通)
MkUcm.PIF　   MS-DOSアプリケーションMkUcm.BATへのショートカット
MkUcm2000.lnk MS-DOSアプリケーションMkUcm.BATへのショートカット(Win2000用)
MkUcm.BAT 　　WishB.UCM, WishL.UCM作成用バッチファイル

※注1　HEW及びCSIDEをデフォルトデレクトリにインストールしていない場合BATのPATH
を編集して下さい。
※注2　用意したPIF以外をご使用の場合環境変数が必要なため環境変数の初期サイズを
4096にしてご使用下さい。
※注3　用意したPIFはWindows2000では動きません。MkUcm2000.lnkをご使用下さい。

■ ROMICE64のハードウエアの設定
起動用にCSIDE用プロジェクト・ファイルを用意致しました。

CsideB.CPF　ビックエンディアン用プロジェクト・ファイル
CsideL.CPF　リトルエンディアン用プロジェクト・ファイル

CSIDEのバージョンやPATHの違いで起動しない場合は下記の設定を参考にして下さい。

[CPU動作]
デバックモード [ROMICE]
CPUの種類 [SH7727]
VBRの設定 [80000000]
その他デフォルト

[ROM]
データ・バス [32Bit]
タイプ(bit) [4M]
ROM1-4 [チェック]
アドレスをクリック
..[ROM1-4]
　　エンディアン [リトル又はビック] SW1-6の設定に合った物を使用して下さい。
　　その他デフォルト

[モニタ]
コード開始アドレス [A01FF000]
データ開始アドレス [AC007F00]
ユーザ・カスタマイズ・プログラムを使用 [チェック]
リトルエンディアンのとき
  ユーザ・カスタマイズ・プログラムの指定 [c:\NORTi\SMP\SH\MS7727\ROMICE64\WishL.UCM]
ビックエンディアンのとき
  ユーザ・カスタマイズ・プログラムの指定 [c:\NORTi\SMP\SH\MS7727\ROMICE64\WishB.UCM]
(PATHはデフォルトインストールの場合です。SW1-6の設定に合った物を使用して下さい。)

[ROMICE64の信号設定]
NMI出力タイプ [オープン・コレクタ]
その他デフォルト


更新履歴

02/03/19
        Win2000用の修正
        SHC7, SHC6, SHC5 対応
        Readme.txt　　修正
        MkBig.PIF, MkLittle.PIF　MkUcm.PIFに統合
        MkUcm.PIF　新規作成
        MkBig.BAT　修正

Readme.txt　　02/03/13　新規作成
WishB.UCM 　　02/03/13　新規作成
WishL.UCM 　　02/03/13　新規作成
Wish.SRC　　　02/03/13　新規作成
MkBig.PIF 　　02/03/13　新規作成
MkLittle.PIF　02/03/13　新規作成
MkBig.BAT 　　02/03/13　新規作成
MkLittle.BAT　02/03/13　新規作成
CsideB.CPF　　02/03/13　新規作成
CsideL.CPF　　02/03/13　新規作成
